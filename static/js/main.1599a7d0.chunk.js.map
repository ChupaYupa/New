{"version":3,"sources":["components/API/api.js","Redux/profile-reduce.js","Redux/dialogs-reduce.js","Redux/sidebar-reduce.js","images/805.gif","components/Nav/Nav.module.css","Redux/auth-reducer.js","Utils/objectFollowHelp.js","components/Nav/Nav.jsx","components/login/Login.jsx","components/HOC/RouterSuspenseHoc.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","App.js","serviceWorker.js","index.js","components/common/FormsControls/FormsControls.js","components/common/FormsControls/FormControls.module.css","components/common/Preoader/Preoader.js","Utils/Validation/indexValid.js","Redux/app-reduce.js","Redux/users-reducer.js","Redux/redux-store.js","components/Header/Header.module.css"],"names":["__webpack_require__","d","__webpack_exports__","usersAPI","headerAPI","dialogAPI","securityAPI","axios__WEBPACK_IMPORTED_MODULE_0__","instance","axios","withCredentials","headers","API-KEY","baseURL","getUsers","currentPage","arguments","length","undefined","pageSize","get","concat","then","response","data","unFollowAPI","userId","delete","followAPI","post","getLogin","login","email","password","rememberMe","captcha","logout","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","Content-Type","saveProfile","profile","getCaptchaUrl","initialState","posts","id","message","like","addPostActionCreator","newMessagesBody","type","setStatusActionCreator","_ref","Object","E_React_Social_Network_New_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","E_React_Social_Network_New_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","dispatch","wrap","_context","prev","next","sent","stop","_x","apply","this","_ref2","_callee2","_context2","_x2","_ref3","_callee3","_context3","resultCode","_x3","file","_ref4","_callee4","_context4","photos","_x4","_ref5","_callee5","getState","_context5","authPage","stopSubmit","contacts","facebook","messages","abrupt","Promise","reject","_x5","_x6","profileReducer","state","action","newPost","_objectSpread","E_React_Social_Network_New_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","dialogsData","name","dialogsMessages","addSendMessageCreator","newMessagesText","dialogsReducer","body","E_React_Social_Network_New_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","sidebarReducer","module","exports","p","nav","item","activeLink","isAuth","captchaUrl","setUserData","payload","getCaptchaUrlSuccess","playload","getAuthUser","_response$data$data","_login","_error","url","authReducer","helpBooleenFollow","items","itemId","objPropName","objBoolen","map","u","loginForms","validate","placeholder","component","props","react__WEBPACK_IMPORTED_MODULE_2___default","createElement","redux_form__WEBPACK_IMPORTED_MODULE_1__","assign","Nav","react_default","className","s","react_router_dom","to","activeClassName","ReduxLoginForm","reduxForm","form","Form","onSubmit","handleSubmit","requiredField","Input","src","error","formSummeryError","connect","react_router","withSuspense","Component","Suspense","fallback","Preoader","Header","header","loginBlock","onClick","HeaderContainer","components_Header_Header","React","DialogsContainer","lazy","e","bind","UsersContainer","ProfileContainer","App","getInitialize","initialIzed","Header_HeaderContainer","components_Nav_Nav","exact","path","render","login_Login","AppCompose","compose","withRouter","appPage","MainApp","es","store","Boolean","window","location","hostname","match","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","FormControlss","input","_ref$meta","meta","touched","children","hasError","E_React_Social_Network_New_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1___default","form_control","Textarea","restProps","child","_images_805_gif__WEBPACK_IMPORTED_MODULE_0__","_images_805_gif__WEBPACK_IMPORTED_MODULE_0___default","n","react__WEBPACK_IMPORTED_MODULE_1__","preloader","maxLengthreator","value","maxLength","promise","all","appReducer","users","totalUsersCount","isFeaching","followingInProgress","followAccept","unfollowAccept","setCountPage","toggleIsFeaching","isFollowing","getUsersThunk","count","totalCount","followUnfollow","apiMethod","actionMethod","follow","unfollow","_x7","usersReducer","followed","redux__WEBPACK_IMPORTED_MODULE_0__","_profile_reduce__WEBPACK_IMPORTED_MODULE_1__","_dialogs_reduce__WEBPACK_IMPORTED_MODULE_2__","_sidebar_reduce__WEBPACK_IMPORTED_MODULE_3__","_users_reducer__WEBPACK_IMPORTED_MODULE_4__","_auth_reducer__WEBPACK_IMPORTED_MODULE_5__","redux_thunk__WEBPACK_IMPORTED_MODULE_6__","redux_form__WEBPACK_IMPORTED_MODULE_7__","_app_reduce__WEBPACK_IMPORTED_MODULE_8__","reducers","combineReducers","profilePage","messagesPage","sidebarPage","usersPage","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","createStore","applyMiddleware","thunkMiddleware","appWrapper"],"mappings":"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","file":"static/js/main.1599a7d0.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\nimport React from 'react';\r\n\r\n//            DAL!!!!!!!!!\r\n\r\n// const baseURL = 'https://social-network.samuraijs.com/api/1.0/';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\"API-KEY\": \"213497bc-6064-4b2d-bc21-cd6c10651ec3\"},\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`,)\r\n            .then(response => {\r\n                return response.data;       //возвращем промис\r\n            });\r\n    },\r\n    unFollowAPI(userId) {\r\n        return instance.delete(`follow/${userId}`,)\r\n    },\r\n    followAPI(userId) {\r\n        return instance.post(`follow/${userId}`, {},)\r\n    },\r\n}\r\n\r\nexport const headerAPI = {\r\n    getLogin() {\r\n        return instance.get(`auth/me`,)\r\n    },\r\n    login(email, password, rememberMe = false, captcha) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`,)\r\n    }\r\n}\r\nexport const dialogAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`,)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`,)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    //отправка фото{} на сервер\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    //редактирование профиля\r\n    saveProfile(profile) {\r\n\r\n        return instance.put(`profile`, profile)\r\n    },\r\n\r\n};\r\nexport const securityAPI = {\r\n\r\n    getCaptchaUrl() {\r\n        debugger\r\n        return instance.get(`security/get-captcha-url`,)\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import {dialogAPI} from \"../components/API/api\";\r\nimport store from \"./redux-store\";\r\nimport authReducer, {getAuthUser} from \"./auth-reducer\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst SET_USER_PROFILE ='profile/SET_USER_PROFILE';\r\nconst SET_STATUS ='profile/SET_STATUS';\r\nconst SAVE_PHOTO ='profile/SAVE_PHOTO';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, message: \"It's my first post\", like: 20 },\r\n        { id: 2, message: 'Hello, how are you?', like: 40 }\r\n    ],\r\n    profile: null,\r\n    status: \"it-incubator\"\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 3,\r\n                message: action.newMessagesBody,\r\n                like: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state, profile: action.profile\r\n            };\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state, status: action.status\r\n            };\r\n        }\r\n        case SAVE_PHOTO: {\r\n            return {\r\n                ...state, profile: {...state.profile, photos: action.photos}\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\nexport const addPostActionCreator = (newMessagesBody) => ({\r\n    type: ADD_POST, newMessagesBody\r\n});\r\nexport const setStatusActionCreator = (status) => ({\r\n    type: SET_STATUS, status\r\n});\r\nexport const savePhotoSuccess = (photos) => ({\r\n    type: SAVE_PHOTO, photos\r\n});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\n\r\n\r\n\r\n//      -----------THUNK---------------\r\nexport const getProfile = (userId) => async (dispatch) => {             //получить профиль\r\n    let response = await dialogAPI.getProfile(userId)\r\n        dispatch (setUserProfile(response.data));\r\n};\r\nexport const getStatus = (userId) => async (dispatch) => {              //получить статус\r\n   let response = await dialogAPI.getStatus(userId)\r\n        dispatch (setStatusActionCreator(response.data));\r\n};\r\nexport const updateStatus = (status) => async (dispatch) => {           //обновить профиль\r\n    let response = await dialogAPI.updateStatus(status)\r\n        if(response.data.resultCode === 0 ) {\r\n            dispatch(setStatusActionCreator(status))\r\n        }\r\n};\r\nexport const savePhoto = (file) => async (dispatch) => {                //сохранить фото\r\n    let response = await dialogAPI.savePhoto(file)\r\n    if(response.data.resultCode === 0 ) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n};\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {     //обновление профиля\r\n\r\n    const userId = getState().authPage.id;\r\n    const response = await  dialogAPI.saveProfile(profile)\r\n    if(response.data.resultCode === 0 ) {\r\n        dispatch(getProfile(userId))\r\n    } else {\r\n        dispatch(stopSubmit(\"edit-profile\", {\"contacts\": {\"facebook\": response.data.messages[0]}}))\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n\r\n};\r\nexport default profileReducer;","import {usersAPI} from \"../components/API/api\";\r\nimport {setTotalCount, setUsers, toggleIsFeaching} from \"./users-reducer\";\r\n\r\nconst SEND_MESSAGE = 'dialogs/SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogsData: [\r\n        { id: 1, name: \"Dima\" },\r\n        { id: 2, name: \"Sveta\" },\r\n        { id: 3, name: \"Sasha\" },\r\n        { id: 4, name: \"Valera\" },\r\n        { id: 5, name: \"Artem\" }\r\n    ],\r\n    dialogsMessages: [\r\n        { id: 1, message: \"Hi\" },\r\n        { id: 2, message: \"How are you?\" },\r\n        { id: 3, message: \"Goodbye\" },\r\n        { id: 4, message: \"yo\" },\r\n        { id: 5, message: \"yo\" }\r\n    ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    // let copyState;\r\n    // copyState.dialogsMessages = { ...state.dialogsMessages };\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessagesText;\r\n            return {\r\n                ...state,\r\n                dialogsMessages: [...state.dialogsMessages, { id: 6, message: body }]\r\n            };\r\n        // copyState.newMessagesText = '';\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport let addSendMessageCreator = (newMessagesText) => ({\r\n    type: SEND_MESSAGE, newMessagesText\r\n})\r\n\r\n\r\n\r\nexport default dialogsReducer;","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {       \r\n        \r\n        return state;\r\n    }\r\nexport default sidebarReducer;","module.exports = __webpack_public_path__ + \"static/media/805.455a9619.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__2BNTj\",\"item\":\"Nav_item__2r9cj\",\"activeLink\":\"Nav_activeLink__k6_Dx\"};","import {headerAPI, securityAPI} from \"../components/API/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL = 'auth/GET_CAPTCHA_URL';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null //if null, then captcha is not required\r\n   // isFeaching: true\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        case GET_CAPTCHA_URL:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\ndebugger\r\n\r\n\r\n//AC\r\nexport const setUserData = (id, email, login, isAuth) => ({type: SET_USER_DATA, payload: {id, email,\r\n        login, isAuth}});\r\nexport const getCaptchaUrlSuccess = (captchaUrl) =>({type: GET_CAPTCHA_URL, playload:{captchaUrl}})\r\n\r\n\r\n//      -----------THUNK---------------\r\nexport const getAuthUser = () => async (dispatch) => {\r\n   let response = await headerAPI.getLogin()\r\n            if(response.data.resultCode === 0) {\r\n                let {id, email, login} = response.data.data;\r\n\r\n               dispatch(setUserData(id, email, login, true));\r\n            }\r\n\r\n}\r\n\r\nexport const login = (email, password, rememberMe=false, captchaUrl) => async (dispatch) => {\r\n    let response = await headerAPI.login(email,password,rememberMe , captchaUrl)\r\n            if(response.data.resultCode === 0) {\r\n               dispatch(getAuthUser())\r\n            } else {\r\n                if (response.data.resultCode === 10) {\r\n                    dispatch(getCaptchaUrl())\r\n                    debugger\r\n                }\r\n                let messages = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\"\r\n                dispatch(stopSubmit(\"Login\", {_error: messages}))\r\n            }\r\n}\r\nexport const logout = () => async (dispatch) => {\r\n   let response = await headerAPI.logout()\r\n            if(response.data.resultCode === 0) {\r\n                dispatch(setUserData (null, null, null, false))\r\n            }\r\n};\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    debugger\r\n    let response = await securityAPI.getCaptchaUrl()\r\n    const captchaUrl = response.data.url;\r\n    if(response.data.resultCode === 0){\r\n        dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default authReducer;","import {Field} from \"redux-form\";\r\nimport React from \"react\";\r\n\r\nexport let helpBooleenFollow = (items, itemId, objPropName, objBoolen) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...objBoolen}\r\n        }\r\n        return u;\r\n    })\r\n}\r\n\r\nexport const loginForms = (validate, placeholder, name, component, props) => {\r\n    return <div>\r\n        <Field validate={validate} placeholder={placeholder} name={name} component={component}\r\n               {...props}/>\r\n    </div>\r\n}","import React from 'react';\r\nimport s from './Nav.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Nav = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/messages\" activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/news\" activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/music\" activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/settings\" activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n        </nav>);\r\n}\r\nexport default Nav;","import React from 'react';\r\nimport {Form, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {requiredField} from \"../../Utils/Validation/indexValid\";\r\nimport {connect} from \"react-redux\";\r\nimport {getCaptchaUrl, login} from \"../../Redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport s from '../common/FormsControls/FormControls.module.css';\r\nimport {loginForms} from \"../../Utils/objectFollowHelp\";\r\n\r\nconst LoginForm = (props) => {\r\n    debugger\r\n    return (\r\n        <Form onSubmit={props.handleSubmit}>\r\n            {loginForms(requiredField, \"Email\", \"email\", Input)}\r\n            {loginForms(requiredField, \"Password\", \"password\", Input, {type: \"password\"})}\r\n            {loginForms(null, null, \"rememberMe\", Input, {type: \"checkbox\"})}\r\n\r\n            {props.captchaUrl && <img src={props.captchaUrl}/>}\r\n            {props.captchaUrl && loginForms(requiredField, \"SymbolsFromImage\", \"captchaUrl\", Input, {})}\r\n            <div>\r\n                {props.error &&\r\n                <div className={s.formSummeryError}>{props.error}</div>\r\n                }\r\n                <button>Login</button>\r\n            </div>\r\n        </Form>);\r\n}\r\n\r\nconst ReduxLoginForm = reduxForm({\r\n    form: 'Login'\r\n})(LoginForm);\r\n\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captchaUrl)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    } else\r\n        return (\r\n            <div>\r\n                <h1>login</h1>\r\n                <ReduxLoginForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n            </div>\r\n        )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\r\n    isAuth: state.authPage.isAuth,\r\n    captchaUrl: state.authPage.captchaUrl\r\n})\r\nexport default connect(mapStateToProps, {login})(Login);","import React from 'react';\r\nimport Preoader from \"../common/Preoader/Preoader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preoader/>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    }\r\n}","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n\r\n    return (\r\n            <header className={s.header}>\r\n                <img src= \"https://miro.medium.com/max/512/1*jA5lTgPRbyimsFNod7SlFQ.png\" />\r\n                <div className={s.loginBlock}> {\r\n\r\n                    props.isAuth ?\r\n                        <div> {props.login}<button onClick={props.logout}>Log out</button></div>\r\n                        :<NavLink to={'/login'}>login</NavLink>}</div>\r\n            </header>);\r\n}\r\nexport default Header;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from \"./Header\";\r\nimport { getAuthUser, logout} from '../../Redux/auth-reducer';\r\n\r\n\r\n\r\nclass HeaderContainer  extends React.Component {\r\n\r\n    render() {\r\n        return (<Header {...this.props} />);\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    login: state.authPage.login,\r\n    isAuth: state.authPage.isAuth,\r\n})\r\n\r\nexport default\r\n    connect (mapStateToProps, {getAuthUser, logout})(HeaderContainer);\r\n\r\n","import React from 'react';\r\nimport './App.css';\r\nimport Nav from './components/Nav/Nav';\r\nimport {HashRouter, Redirect, Route, Switch, withRouter} from 'react-router-dom';\r\nimport Login from \"./components/login/Login\";\r\nimport {compose} from \"redux\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {getInitialize} from \"./Redux/app-reduce\";\r\nimport Preoader from \"./components/common/Preoader/Preoader\";\r\nimport store from \"./Redux/redux-store\";\r\nimport {withSuspense} from \"./components/HOC/RouterSuspenseHoc\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Container/ProfileContainer'));\r\n\r\n\r\n// import News from './components/News/News';\r\n// import Music from './components/Music/Music';\r\n// import Settings from './components/Settings/Settings';\r\n\r\n\r\n//callback передаем в App\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getInitialize()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialIzed) {\r\n            return <Preoader/>\r\n        }\r\n        return (\r\n\r\n            <div className=\"app-wrapper\">\r\n                <HeaderContainer/>\r\n                <Nav/>\r\n                <div className=\"app-wrapper-content\">\r\n                    <Switch>\r\n                        <Route exact path='/' render={()=> <Redirect to={\"/profile\"}/>}/>\r\n                    <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\r\n                    <Route path='/messages' render={withSuspense(DialogsContainer)}/>\r\n                    <Route path='/users' render={withSuspense(UsersContainer)}/>\r\n                    <Route path='/login' render={() => <Login/>}/>\r\n                        <Route path='*' render={() => <div>404 not found</div>}/>\r\n                    {/* <Route path='/news' component={News} />\r\n                    <Route path='/music' component={Music} />\r\n                    <Route path='/settings' component={Settings} /> */}\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        initialIzed: state.appPage.initialIzed\r\n    }\r\n}\r\n\r\nlet AppCompose = compose(\r\n    withRouter, connect(mapStateToProps, {getInitialize}),\r\n)(App);\r\n\r\nconst MainApp = (props) => {\r\n    return <HashRouter>\r\n        <Provider store={store}>\r\n            <AppCompose/>\r\n        </Provider>\r\n    </HashRouter>\r\n}\r\nexport default MainApp;\r\n\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport MainApp from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n\r\nReactDOM.render(\r\n    <MainApp/>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from 'react';\r\nimport s from './FormControls.module.css';\r\n\r\nconst FormControlss = ({input, meta:{touched,error},children, ...props}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={s.form_control + \" \" + (hasError ? s.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            { hasError && <span>\r\n                 {error}\r\n             </span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n export const Textarea = (props) => {\r\n    const {input, meta,child, ...restProps} = props;\r\n     return <FormControlss {...props}><textarea {...input} {...restProps}/></FormControlss>\r\n }\r\nexport const Input = (props) => {\r\n    const {input, meta,child, ...restProps} = props;\r\n    return <FormControlss {...props}><input {...input}{...restProps}/></FormControlss>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form_control\":\"FormControls_form_control__1gYt6\",\"error\":\"FormControls_error__3Hn0d\",\"formSummeryError\":\"FormControls_formSummeryError__1DiPm\"};","import preloader from \"../../../images/805.gif\";\r\nimport React from \"react\";\r\n\r\nlet Preoader = (props) => {\r\n    return  <img  src={preloader}/>\r\n}\r\nexport default Preoader;","import React from 'react';\r\n\r\n\r\nexport const requiredField = (value) => {\r\n    if(value) {\r\n        return undefined\r\n    }\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthreator = (maxLength) =>(value) => {\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined\r\n}","import {getAuthUser} from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZED = 'app/SET_INITIALIZED';\r\n\r\n\r\nlet initialState = {\r\n    initialIzed: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n            return {\r\n                ...state,\r\n                initialIzed: true\r\n            }\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\nexport const setInitialized = () => ({type: SET_INITIALIZED})\r\n\r\n\r\n//инициализация\r\n\r\nexport const getInitialize = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUser());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(setInitialized());\r\n        })\r\n}\r\n\r\nexport default appReducer;","import {usersAPI} from \"../components/API/api\";\r\nimport {helpBooleenFollow} from \"../Utils/objectFollowHelp\";\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE';\r\nconst SET_USERS_COUNT = 'users/SET_USERS_COUNT';\r\nconst TOGGLE_IS_FEATHING = 'users/TOGGLE_IS_FEATHING';\r\nconst FOLLOWING_IN_PROGRESS = 'users/FOLLOWING_IN_PROGRESS'\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 30,\r\n    totalUsersCount: 0,\r\n    currentPage: 2,\r\n    isFeaching: true,\r\n    followingInProgress: false\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: helpBooleenFollow(state.users, action.userId, \"id\", {followed:true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: helpBooleenFollow(state.users, action.userId, \"id\", {followed:false})\r\n            }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        }\r\n        case SET_USERS_COUNT: {\r\n\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n        }\r\n        case TOGGLE_IS_FEATHING: {\r\n            return {\r\n                ...state,\r\n                isFeaching: action.isFeaching\r\n            }\r\n        }\r\n        case FOLLOWING_IN_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.followingInProgress\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\nexport const followAccept = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowAccept = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCountPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\r\nexport const setTotalCount = (totalUsersCount) => ({ type: SET_USERS_COUNT, count: totalUsersCount });\r\nexport const toggleIsFeaching = (isFeaching) => ({ type: TOGGLE_IS_FEATHING, isFeaching });\r\nexport const isFollowing = (followingInProgress) => ({ type: FOLLOWING_IN_PROGRESS, followingInProgress: followingInProgress });\r\n\r\n\r\n\r\n//      -----------THUNK---------------\r\nexport const getUsersThunk =(currentPage, pageSize)=>{\r\n    return async (dispatch) => {\r\n        dispatch (toggleIsFeaching(true)) //загрузка preloader\r\n        let data = await\r\n        usersAPI.getUsers(currentPage, pageSize)\r\n\r\n            dispatch(toggleIsFeaching(false)); //загрузка preloader\r\n            dispatch(setUsers(data.items)); //получить пользователей\r\n            dispatch(setTotalCount(data.totalCount));\r\n            dispatch(setCountPage(currentPage)) //текущая страница\r\n    }\r\n}\r\n\r\n\r\nexport const followUnfollow = async (dispatch, userId, apiMethod, actionMethod) => {\r\n        dispatch(isFollowing(true, userId));\r\n        let response = await apiMethod(userId);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(actionMethod(userId));\r\n        }\r\n        dispatch(isFollowing(false, userId))\r\n\r\n}\r\n    export const follow =(userId)=>{\r\n        return async (dispatch) => {\r\n            let apiMethod = usersAPI.followAPI.bind(usersAPI);\r\n            let actionMethod = followAccept;\r\n            followUnfollow(dispatch, userId, apiMethod, actionMethod)\r\n        }\r\n    }\r\nexport const unfollow =(userId)=>{\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.unFollowAPI.bind(usersAPI);\r\n        let actionMethod = unfollowAccept;\r\n        followUnfollow(dispatch, userId, apiMethod, actionMethod)\r\n    }\r\n}\r\nexport default usersReducer;","import {createStore, combineReducers, applyMiddleware, compose} from \"redux\";\r\nimport profileReducer from \"./profile-reduce\";\r\nimport dialogsReducer from \"./dialogs-reduce\";\r\nimport sidebarReducer from \"./sidebar-reduce\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\"\r\nimport appReducer from \"./app-reduce\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: dialogsReducer,\r\n    sidebarPage: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    authPage:authReducer,\r\n    appPage: appReducer,\r\n    form: formReducer\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunkMiddleware)\r\n));\r\n\r\n\r\nexport default store;\r\n\r\nwindow.store = store","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"Header_appWrapper__1NTBi\",\"header\":\"Header_header__1B9wQ\",\"loginBlock\":\"Header_loginBlock___UuSN\"};"],"sourceRoot":""}